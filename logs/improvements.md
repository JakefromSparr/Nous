# Improvements Log
- Added external questions.json and asynchronous loader for dynamic trivia.
- Hooked state and UI to pull random questions and process answers.
- Added setParticipants export and initialization on confirm to prevent lobby errors when starting a game.
- Updated UI display to use roundsToWin and currentCategory, removed unused rounds state.
- Triggered game initialization on start-game and participant confirmation so UI resets cleanly.
- Added defer attributes to script tags so buttons initialize correctly.
- Calculated thread length from roundsToWin and roundsWon for consistent gameplay.
- Configured package.json for Jest with jsdom environment to enable testing of browser scripts.
- Implemented button-controlled menu navigation on the welcome screen so Up/Select/Down cycle choices and selecting Play prompts participant entry.
- Implemented thread and scoring logic for pull/cut actions to track round progress.
- Fixed round scoring and thread updates to reflect correct answers and round completion.
- Starting new rounds now resets thread and displays updated scores.
- Weave action consumes thread and randomizes the upcoming category.
- Enhanced UI with mystical styling and button labels to deepen atmospheric immersion.
- Fixed round threshold logic so lobby updates only after cutting, enabling proper scoring and life tracking.
- Added waiting room screen with button-based participant selection to streamline game start.
- Centered main screen with updated flex layout so buttons sit neatly below for better focus.
- Added menu highlight and transition overlay to clarify selections.
- Reworked layout and welcome screen cursor to eliminate flicker and fix menu navigation.
- Implemented difficulty-based question selection with tracking of answered cards.
- Consolidated participant initialization and added external divination deck for smoother restarts.
- Fixed [hidden] override and pinned controller so screens hide correctly and wood buttons stay visible.
- Replaced hidden attribute toggling with `.is-active` class for simpler screen control.
- Fixed Play button not advancing to participant entry by stripping arrow from welcome option text.
- Introduced Fate Card system with new data file and state logic for immersive dynamics.
- Restored thread and category functions so pull/cut/weave buttons operate again.
- Adjusted cut thread to end a round without loss so players can escape safely.
- Implemented fate card display and lobby updates for active effects.
- Randomized answer order per question to keep players guessing.
- Integrated fate card effects with switch logic so drawn cards alter the next round.
- Loaded external fate-cards.json and preserved round points when escaping.
- Expanded fate mechanics with predictions, modifiers, tallies, and power-ups for richer round outcomes.
- Aligned fate card IDs between defaults and external file for consistent behavior when loading fails.
- Added keyboard controls, aria live region, localStorage saves and basic smoke test for stable flow.
- Fixed object spread typos and removed duplicate if block; replaced missing wood texture with gradient to prevent load errors.
- Added beforeunload save and basic zod validation for safe reloads.
- Fixed syntax error in State and skipped Playwright downloads for smoother CI
- Improved mobile layout with media query and dynamic transition radius; detached welcome key listeners so arrows no longer scroll mid-game.

- Refactored fate system into new module with schema validation; added UI hooks and tests for dynamic cards.
- Injected fate engine script into HTML so 'Tempt Fate' draws cards correctly.
- Applied fate engine results to game state and show summary after each round.
- Converted fate engine to ES module and updated HTML loader for browser compatibility.
- Simplified fate engine validation and removed zod import for direct browser loading.
- Loaded Zod from CDN for optional browser validation, preparing future state checks.
- Integrated CDN import for fate engine validation so browser module resolves without bundler.
- Removed duplicate DYN005 thread bonus to keep start of round balanced.
- Added QuestionEngine module with tiered questions for modular trivia management.
- Routed pull-thread to new QuestionEngine so tiered questions progress correctly.
- Fixed Tempt Fate handler and UI labels to prevent undefined choices.
- Hard-wired local decks to remove fetch dependency and speed up tests.
- Stripped comments from question decks so pull-thread loads Tier 1 questions.
- Integrated class score constants and trait tracking in State.
- Forced QuestionEngine to accept loaded JSON deck for reliable draws.
- Implemented layered trait system with per-question weights and overrides for deeper personality scoring.
- Fixed Jest setup and global State reference for headless tests.
- Fixed loadData imports and provided fallback question engine to pass tests without dynamic modules.
- Removed divination mechanics and standardized fate card UI calls.
- Added ESLint/Prettier, offline deck imports, and CI workflow for consistent development.
- Fixed Tempt Fate button reset and cleaned DYN005 text for consistent fate card UI.

- Added Vite dev dependency so `npm run dev` launches correctly for local playtesting.
- Alerted when question deck runs out so players know the thread is spent.
- Loaded questions from JSON with JS fallback so new decks appear in game.
- Filtered malformed questions and completed missing Tier 2 entry so draws advance past first 4 cards without crashing.
- Validated saved state before loading to prevent corrupt resumes.
- Centralized trait constants in engine modules for easier reuse and maintenance.
